
@{
    ViewBag.Title = "LoggingView";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>User Log:</h2>

<table id="grid-basic" class="table table-condensed table-hover table-striped">
    <thead>
        <tr>
            <th data-column-id="Date" data-type="numeric">Date</th>
            <th data-column-id="UserID">UserID</th>
            <th data-column-id="User" data-order="desc">User</th>
            <th data-column-id="Action" data-order="desc">Log:</th>
        </tr>
    </thead>
    <tbody id="output">

    </tbody>
</table>

<script type="text/javascript">
    function getInteraction() {
        $.ajax({
            type: "POST",
            url: "/AdminLogging/getInteractionMessages",
            data: "{}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (response) {
                var messages = response.d;
                $('#output').empty();
                $.each(messages, function (index, message) {
                    $('#output').append('<tr><th>' + message.Date + ' ' +
                                          message.UserID + '</th><th>' +
                                          message.User + '</th><th>' +
                                          car.Action + '</th><th>' +
                                          '</tr>');
                });
            },
            failure: function (msg) {
                $('#output').text(msg);
            }
        });
    }
</script>